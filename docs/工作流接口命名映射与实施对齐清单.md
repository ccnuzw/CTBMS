# 工作流接口命名映射与实施对齐清单

## 1. 目标

将设计方案中的 API 分组命名与当前实现进行一一映射，降低联调和验收阶段的歧义。

## 2. 命名映射（设计稿 -> 实现）

| 设计稿分组              | 当前实现入口                                                                                                | 说明                                              |
| ----------------------- | ----------------------------------------------------------------------------------------------------------- | ------------------------------------------------- |
| `/workflow-definitions` | `/workflow-definitions`                                                                                     | 已对齐，覆盖定义/版本/发布/审计。                 |
| `/workflow-validations` | `/workflow-definitions/validate-dsl`                                                                        | 校验能力已落地，当前作为定义域子路由。            |
| `/workflow-executions`  | `/workflow-executions`                                                                                      | 已对齐，覆盖触发/重跑/取消/详情/列表。            |
| `/workflow-replays`     | `/workflow-executions/:id/replay`、`/workflow-executions/:id/timeline`、`/workflow-executions/:id/debate-*` | 回放相关能力已落地，当前按 execution 子资源组织。 |
| `/agent-profiles`       | `/agent-profiles`                                                                                           | 已对齐。                                          |
| `/agent-prompts`        | `/agent-prompts`                                                                                            | 已对齐。                                          |
| `/parameter-sets`       | `/parameter-sets`                                                                                           | 已对齐。                                          |
| `/decision-rule-packs`  | `/decision-rule-packs`                                                                                      | 已对齐。                                          |
| `/data-connectors`      | `/data-connectors`                                                                                          | 已对齐。                                          |
| `/workflow-experiments` | `/workflow-experiments`                                                                                     | 已对齐。                                          |

## 3. 兼容策略建议

1. 若对外文档坚持设计稿分组，可新增轻量别名路由：`/workflow-validations`、`/workflow-replays`。
2. 若保持现状命名，则在 OpenAPI 和前端 API SDK 中固定映射，避免重复解释。
3. CI 冒烟用例按“实现路由”执行，评审材料按“设计路由”展示映射表。

## 4. 发布前核对项

1. 设计稿中的每个 API 分组都有对应实现入口。
2. 回放能力至少覆盖：详情、时间线、Debate 轨迹、分页筛选。
3. 前端筛选参数与后端 query 参数保持 1:1。
4. 接口变更时同步更新本清单与 PR 描述。
