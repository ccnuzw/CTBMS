{
  "name": "api",
  "version": "0.0.1",
  "private": true,
  "scripts": {
    "build": "nest build",
    "format": "prettier --write \"src/**/*.ts\"",
    "start": "nest start",
    "dev": "nest start --watch",
    "lint": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
    "type-check": "tsc --noEmit",
    "test:e2e": "pnpm --filter @packages/types build && pnpm run test:e2e:agent-profile && pnpm run test:e2e:parameter-center && pnpm run test:e2e:data-connector && pnpm run test:e2e:workflow-dsl-validator && pnpm run test:e2e:workflow-governance-publish && pnpm run test:e2e:workflow-execution-filters && pnpm run test:e2e:workflow-p1-core && pnpm run test:e2e:workflow-p2-reliability && pnpm run test:e2e:workflow-debate-replay && pnpm run test:e2e:trigger-gateway && pnpm run test:e2e:workflow-experiment && pnpm run test:e2e:report-export && pnpm run test:e2e:futures-sim && pnpm run test:e2e:execution-analytics && pnpm run test:e2e:template-catalog",
    "test:e2e:agent-profile": "pnpm --filter @packages/types build && ts-node test/agent-profile.e2e-spec.ts",
    "test:e2e:parameter-center": "pnpm --filter @packages/types build && ts-node test/parameter-center.e2e-spec.ts",
    "test:e2e:data-connector": "pnpm --filter @packages/types build && ts-node test/data-connector.e2e-spec.ts",
    "test:e2e:workflow-dsl-validator": "pnpm --filter @packages/types build && ts-node test/workflow-dsl-validator.e2e-spec.ts",
    "test:e2e:workflow-governance-publish": "pnpm --filter @packages/types build && ts-node test/workflow-governance-publish.e2e-spec.ts",
    "test:e2e:workflow-execution-filters": "pnpm --filter @packages/types build && ts-node test/workflow-execution-filters.e2e-spec.ts",
    "test:e2e:workflow-p1-core": "pnpm --filter @packages/types build && ts-node test/workflow-p1-core.e2e-spec.ts",
    "test:e2e:workflow-p2-reliability": "pnpm --filter @packages/types build && ts-node test/workflow-p2-reliability.e2e-spec.ts",
    "test:e2e:workflow-debate-replay": "pnpm --filter @packages/types build && ts-node test/workflow-debate-replay.e2e-spec.ts",
    "test:e2e:trigger-gateway": "pnpm --filter @packages/types build && ts-node test/trigger-gateway.e2e-spec.ts",
    "test:e2e:workflow-experiment": "pnpm --filter @packages/types build && ts-node test/workflow-experiment.e2e-spec.ts",
    "test:e2e:report-export": "pnpm --filter @packages/types build && ts-node test/report-export.e2e-spec.ts",
    "test:e2e:futures-sim": "pnpm --filter @packages/types build && ts-node test/futures-sim.e2e-spec.ts",
    "test:e2e:execution-analytics": "pnpm --filter @packages/types build && ts-node test/execution-analytics.e2e-spec.ts",
    "test:e2e:template-catalog": "pnpm --filter @packages/types build && ts-node test/template-catalog.e2e-spec.ts",
    "workflow:risk-gate:smoke": "ts-node src/scripts/risk-gate-smoke.ts",
    "workflow:risk-gate:contract:smoke": "ts-node src/scripts/risk-gate-contract-smoke.ts",
    "workflow:execution-filters:smoke": "ts-node src/scripts/workflow-execution-filters-smoke.ts",
    "workflow:execution:baseline": "ts-node src/scripts/workflow-execution-baseline.ts",
    "workflow:execution:baseline:gate": "ts-node src/scripts/workflow-execution-baseline.ts --thresholds-file=../../config/workflow-execution-baseline-thresholds.json --use-default-gate-thresholds",
    "workflow:perf:risk-gate": "ts-node test/perf/risk-gate-baseline.ts --iterations=2000 --warmup=200 --report-file=logs/workflow-perf-risk-gate-baseline.json",
    "workflow:perf:risk-gate:gate": "pnpm run workflow:perf:risk-gate -- --max-p95-pass-low-risk=0.03 --max-p95-soft-block-high-risk=0.03 --max-p95-hard-block-by-rule=0.04",
    "workflow:risk-summary:backfill": "ts-node src/scripts/backfill-workflow-risk-summary.ts",
    "workflow:risk-summary:backfill:dry-run": "pnpm run workflow:risk-summary:backfill -- --dry-run --limit=200",
    "workflow:risk-summary:backfill:report": "pnpm run workflow:risk-summary:backfill -- --report-file=apps/api/logs/workflow-risk-summary-backfill-report.json",
    "workflow:has-risk-summary:smoke": "ts-node src/scripts/workflow-execution-has-risk-summary-smoke.ts",
    "workflow:smoke": "pnpm run workflow:risk-gate:smoke && (pnpm run workflow:has-risk-summary:smoke || pnpm run workflow:has-risk-summary:smoke)",
    "workflow:smoke:extended": "pnpm run workflow:smoke && pnpm run workflow:execution-filters:smoke",
    "price:quality-tag:backfill": "ts-node src/scripts/backfill-price-quality-tag.ts",
    "price:quality-tag:backfill:dry-run": "pnpm run price:quality-tag:backfill -- --dry-run --limit=2000",
    "alerts:migrate-rules": "ts-node prisma/migrate-market-alert-rules.ts",
    "alerts:check-migration": "ts-node prisma/check-market-alert-migration.ts",
    "alerts:seed-rules": "ts-node prisma/seed-market-alert-rules.ts"
  },
  "dependencies": {
    "@google/generative-ai": "^0.24.1",
    "@nestjs/common": "^10.0.0",
    "@nestjs/core": "^10.0.0",
    "@nestjs/platform-express": "^10.0.0",
    "@nestjs/schedule": "^6.1.0",
    "@nestjs/swagger": "^7.3.0",
    "@packages/types": "workspace:*",
    "@prisma/client": "^5.0.0",
    "docx": "^9.5.2",
    "mammoth": "^1.11.0",
    "multer": "1.4.5-lts.1",
    "nestjs-zod": "^3.0.0",
    "openai": "^6.18.0",
    "pdf-parse": "^1.1.1",
    "pdfkit": "^0.17.2",
    "reflect-metadata": "^0.1.13",
    "rxjs": "^7.8.1",
    "uuid": "^13.0.0",
    "xlsx": "^0.18.5",
    "zod": "^3.0.0"
  },
  "devDependencies": {
    "@nestjs/cli": "^10.0.0",
    "@nestjs/schematics": "^10.0.0",
    "@packages/eslint-config": "workspace:*",
    "@packages/tsconfig": "workspace:*",
    "@types/express": "^4.17.17",
    "@types/multer": "^2.0.0",
    "@types/node": "^20.3.1",
    "@types/pdfkit": "^0.17.5",
    "@types/uuid": "^11.0.0",
    "date-fns": "^4.1.0",
    "prisma": "^5.0.0",
    "ts-node": "^10.9.2"
  },
  "prisma": {
    "seed": "ts-node prisma/seed.ts"
  }
}
